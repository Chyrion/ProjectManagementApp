{% extends 'layout.html' %} {% block title %}Projects{% endblock %} {% block
content %}
<!-- This script prevents resubmitting forms, which can create duplicate entries in the database -->
<script>
  if (window.history.replaceState) {
    window.history.replaceState(null, null, window.location.href);
  }
</script>
<h1>Projects</h1>
<h3>Hello {{ name }}</h3>
<p>A list of your projects:</p>
{% if projects %} {% for project in projects %}
<div class="project-item" id="{{ project['id'] }}">
  <h3>{{ project['name'] }}</h3>
  <p>{{ project['description'] }}</p>
  <p>
    Deadline: {{ project['deadline'].day }} {{
    project['deadline'].strftime("%B") }} {{ project['deadline'].year }} (in {{
    (project['deadline']-date).days }} days)
  </p>
  <form action="/projectview/{{ project['id'] }}">
    <input type="submit" value="View project" />
  </form>
</div>
{% endfor %} {% else %}
<p>No projects found!</p>
{% endif %}
<a href="/newproject">
  <button name="create_project">New Project</button>
</a>
{% endblock %}
